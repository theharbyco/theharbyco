<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cart ‚Äì The Harby Co.</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  <div class="brand">
    <h1>THE HARBY CO.</h1>
  </div>
  <nav>
    <a href="index.html">‚Üê Continue Shopping</a>
  </nav>
</header>

<section class="section">
  <h2>üõí Your Cart</h2>

  <div id="cartItems"></div>

  <div class="cart-summary">
    <h3>Total: ‚Çπ<span id="total">0</span></h3>
    <button onclick="checkout()">Checkout on WhatsApp</button>
  </div>
</section>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function renderCart(){
  const box = document.getElementById("cartItems");
  const totalBox = document.getElementById("total");
  box.innerHTML = "";
  let total = 0;

  if(cart.length === 0){
    box.innerHTML = "<p>Your cart is empty.</p>";
    totalBox.innerText = "0";
    return;
  }

  cart.forEach((item,index)=>{
    total += item.price;
    box.innerHTML += `
      <div class="cart-item">
        <span>${item.name}</span>
        <span>‚Çπ${item.price}</span>
        <button onclick="removeItem(${index})">‚úñ</button>
      </div>
    `;
  });

  totalBox.innerText = total;
}

function removeItem(index){
  cart.splice(index,1);
  localStorage.setItem("cart",JSON.stringify(cart));
  renderCart();
}

function checkout(){
  if(cart.length === 0){
    alert("Cart is empty");
    return;
  }

  let msg = "Hello, I want to order:%0A";
  let total = 0;

  cart.forEach(i=>{
    msg += `‚Ä¢ ${i.name} ‚Äì ‚Çπ${i.price}%0A`;
    total += i.price;
  });

  msg += `%0ATotal = ‚Çπ${total}`;

  window.open(`https://wa.me/918858504768?text=${msg}`,"_blank");
}

renderCart();
</script>

</body>
</html>
